#!/bin/sh

while read old_sha1 new_sha1 refname anothervalue ; do
    echo "old_sha1 is $old_sha1"
    echo "new_sha1 is $new_sha1"
    echo "refname is $refname"
    echo -n "type of new_sha1 is: "
    git cat-file -t $new_sha1
    echo "anothervalue is $anothervalue"
     list=$(git show --pretty --name-only $new_sha1 | grep ".miz")
     echo "here are the .miz files:"
     for tmpfile in ${list}; do
         git show ${new_sha1}:${tmpfile}
         if [ "$?" -ne "0" ]; then exit 1; fi
     done
     echo "done printing .miz files"
 done

 exit $?
